##############################
# Iceberg REST Catalog (modo oficial)
##############################

# Extensións Iceberg
spark.sql.extensions org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# Catálogo principal (demo)
spark.sql.catalog.demo org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.demo.type rest
spark.sql.catalog.demo.uri http://rest:8181

# Warehouse accesible polo servizo REST
spark.sql.catalog.demo.warehouse s3://warehouse/

# IO engine para REST catalog -> S3FileIO (NON S3A)
spark.sql.catalog.demo.io-impl org.apache.iceberg.aws.s3.S3FileIO

# Configuración S3FileIO (NON spark.hadoop.fs.s3a.*)
spark.sql.catalog.demo.s3.endpoint http://minio:9000
spark.sql.catalog.demo.s3.access-key-id admin
spark.sql.catalog.demo.s3.secret-access-key password
spark.sql.catalog.demo.s3.path-style-access true
spark.sql.catalog.demo.s3.region us-east-1

##############################
# Spark History en HDFS (igual que ti)
##############################
spark.eventLog.enabled true
spark.eventLog.dir hdfs://namenode:9000/spark-logs
spark.history.fs.logDirectory hdfs://namenode:9000/spark-logs
spark.history.fs.update.interval 10s

spark.sql.catalog.demo.warehouse s3://warehouse/
spark.sql.catalog.demo.io-impl org.apache.iceberg.aws.s3.S3FileIO

# E tamén as súas opcións de S3FileIO:
spark.sql.catalog.demo.s3.endpoint http://minio:9000
spark.sql.catalog.demo.s3.access-key-id aminoadmin
spark.sql.catalog.demo.s3.secret-access-key minioadmin
spark.sql.catalog.demo.s3.path-style-access true
spark.sql.catalog.demo.s3.region us-east-1
##############################
# (Opcional pero recomendable) XAR de Iceberg
##############################
# Se NON tes o jar no SPARK_HOME/jars, engade isto:
spark.jars.packages org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.10.0
